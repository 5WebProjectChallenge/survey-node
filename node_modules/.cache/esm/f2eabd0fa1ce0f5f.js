let express,morgan,helmet,routes;_a1c‍.w("dotenv/config");_a1c‍.w("express",[["default",["express"],function(v){express=v}]]);_a1c‍.w("morgan",[["default",["morgan"],function(v){morgan=v}]]);_a1c‍.w("helmet",[["default",["helmet"],function(v){helmet=v}]]);_a1c‍.w("./routes",[["default",["routes"],function(v){routes=v}]]);



 // For logging
 // For setting security headers
// const session = require('express-session')


// import { isAuthenticated } from './utils/isAuth'

const app = express()

// app.use(session({
//   secret: 'keyboard cat',
//   resave: false,
//   saveUninitialized: true,
//   cookie: { secure: true }
// }))

app.use(helmet())
app.use(morgan('combined'))

app.use(express.json('limit','50mb'))
app.use(express.urlencoded({extended:true,limit:'50mb'}))

_a1c‍.g.console.log(routes.survey)

// app.use('/user',isAuthenticated,routes.survey)

app.use((req,res)=>{
    res.status(404).send('404 page not found')
})

app.listen(process.env.PORT,()=>{
    _a1c‍.g.console.log("App is onn at ", process.env.PORT)
})